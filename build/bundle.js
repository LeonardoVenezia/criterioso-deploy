var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t){return null==t?"":t}function l(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function d(){return m(" ")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){e=""+e,t.data!==e&&(t.data=e)}let v;function $(t){v=t}function b(){if(!v)throw new Error("Function called outside component initialization");return v}function C(){const t=b();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach(e=>{e.call(t,r)})}}}const x=[],y=[],S=[],I=[],E=Promise.resolve();let _=!1;function D(t){S.push(t)}let k=!1;const L=new Set;function O(){if(!k){k=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];$(e),w(e.$$)}for(x.length=0;y.length;)y.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];L.has(e)||(L.add(e),e())}S.length=0}while(x.length);for(;I.length;)I.pop()();_=!1,k=!1,L.clear()}}function w(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const A=new Set;let P;function q(t,e){t&&t.i&&(A.delete(t),t.i(e))}function N(t,e,n,o){if(t&&t.o){if(A.has(t))return;A.add(t),P.c.push(()=>{A.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function T(t){t&&t.c()}function J(t,n,s){const{fragment:i,on_mount:l,on_destroy:a,after_update:c}=t.$$;i&&i.m(n,s),D(()=>{const n=l.map(e).filter(r);a?a.push(...n):o(n),t.$$.on_mount=[]}),c.forEach(D)}function j(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function M(t,e){-1===t.$$.dirty[0]&&(x.push(t),_||(_=!0,E.then(O)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(e,r,s,i,l,a,u=[-1]){const f=v;$(e);const m=r.props||{},d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:u};let p=!1;if(d.ctx=s?s(e,m,(t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),p&&M(e,t)),n}):[],d.update(),p=!0,o(d.before_update),d.fragment=!!i&&i(d.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);d.fragment&&d.fragment.l(t),t.forEach(c)}else d.fragment&&d.fragment.c();r.intro&&q(e.$$.fragment),J(e,r.target,r.anchor),O()}$(f)}class V{$destroy(){j(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const H=[];const U=function(e,n=t){let o;const r=[];function i(t){if(s(e,t)&&(e=t,o)){const t=!H.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),H.push(n,e)}if(t){for(let t=0;t<H.length;t+=2)H[t][0](H[t+1]);H.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,l=t){const a=[s,l];return r.push(a),1===r.length&&(o=n(i)||t),s(e),()=>{const t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}((localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}).listaCriterios||[]);function z(t,e,n){const o=t.slice();return o[14]=e[n],o}function F(e){let n,o,r,s,i;return{c(){n=f("div"),o=f("input"),r=d(),s=f("button"),s.textContent="Enviar",g(o,"class","commentInput svelte-4e8i3h"),g(o,"id","btnInput"),g(o,"type","text"),g(s,"class","commentBtn svelte-4e8i3h"),g(n,"class","commentBox svelte-4e8i3h")},m(t,c,u){a(t,n,c),l(n,o),l(n,r),l(n,s),u&&i(),i=p(s,"click",e[9])},p:t,d(t){t&&c(n),i()}}}function Q(t){let e,n,o,r,s,i,u,v,$,b=t[14].value+"";return{c(){e=f("div"),n=f("p"),o=m(b),r=d(),s=f("button"),i=m("X"),v=d(),g(n,"class","svelte-4e8i3h"),g(s,"id",u=t[14].id),g(s,"class","btncito btnEliminarComentario svelte-4e8i3h"),g(e,"class","commentBoxComentarios svelte-4e8i3h")},m(c,u,f){a(c,e,u),l(e,n),l(n,o),l(e,r),l(e,s),l(s,i),l(e,v),f&&$(),$=p(s,"click",t[8])},p(t,e){1&e&&b!==(b=t[14].value+"")&&h(o,b),1&e&&u!==(u=t[14].id)&&g(s,"id",u)},d(t){t&&c(e),$()}}}function X(e){let n,r,s,m,h,v,$,b,C,x,y,S,I,E,_,D,k,L=e[3]&&F(e),O=e[0],w=[];for(let t=0;t<O.length;t+=1)w[t]=Q(z(e,O,t));return{c(){n=f("div"),r=f("div"),s=f("p"),m=d(),h=f("div"),v=f("button"),v.textContent="Hecho",$=d(),b=f("button"),b.textContent="Marcar",C=d(),x=f("button"),x.textContent="Eliminar",y=d(),S=f("button"),S.textContent="Comentar",E=d(),_=f("div"),L&&L.c(),D=d();for(let t=0;t<w.length;t+=1)w[t].c();g(s,"class","criterio svelte-4e8i3h"),g(r,"class","criterio svelte-4e8i3h"),g(v,"class","btn btnHecho svelte-4e8i3h"),g(b,"class","btn btnMarcar svelte-4e8i3h"),g(x,"class","btn btnEliminar svelte-4e8i3h"),g(S,"class","btn btnCommentar svelte-4e8i3h"),g(h,"class","botones svelte-4e8i3h"),g(n,"class",I=i(e[1])+" svelte-4e8i3h"),g(_,"class","commentBoxContainer svelte-4e8i3h")},m(t,i,c){a(t,n,i),l(n,r),l(r,s),s.innerHTML=e[2],l(n,m),l(n,h),l(h,v),l(h,$),l(h,b),l(h,C),l(h,x),l(h,y),l(h,S),a(t,E,i),a(t,_,i),L&&L.m(_,null),l(_,D);for(let t=0;t<w.length;t+=1)w[t].m(_,null);c&&o(k),k=[p(v,"click",e[4]),p(b,"click",e[5]),p(x,"click",e[6]),p(S,"click",e[7])]},p(t,[e]){if(4&e&&(s.innerHTML=t[2]),2&e&&I!==(I=i(t[1])+" svelte-4e8i3h")&&g(n,"class",I),t[3]?L?L.p(t,e):(L=F(t),L.c(),L.m(_,D)):L&&(L.d(1),L=null),257&e){let n;for(O=t[0],n=0;n<O.length;n+=1){const o=z(t,O,n);w[n]?w[n].p(o,e):(w[n]=Q(o),w[n].c(),w[n].m(_,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=O.length}},i:t,o:t,d(t){t&&c(n),t&&c(E),t&&c(_),L&&L.d(),u(w,t),o(k)}}}function G(t,e,n){let{claseDeLosCriterios:o}=e,{inputValue:r=""}=e,{id:s}=e,{comments:i=[]}=e,l=!1,a=[];U.subscribe(t=>{a=t});const c=C();return t.$set=t=>{"claseDeLosCriterios"in t&&n(1,o=t.claseDeLosCriterios),"inputValue"in t&&n(2,r=t.inputValue),"id"in t&&n(10,s=t.id),"comments"in t&&n(0,i=t.comments)},[i,o,r,l,function(){c("hecho",s)},function(){c("marcar",s)},function(){c("eliminar",s)},function(){n(3,l=!l)},function(t){const e=i.filter(e=>e.id!=t.target.id);n(0,i=[...e]),c("comentar",{id:s,comments:i,listaDeCriterios_value:a})},function(){btnInput.value&&(n(0,i=[...i,{value:btnInput.value,id:i.length}]),btnInput.value="",c("comentar",{id:s,comments:i,listaDeCriterios_value:a}))},s]}class K extends V{constructor(t){super(),B(this,t,G,X,s,{claseDeLosCriterios:1,inputValue:2,id:10,comments:0})}}function R(t){let e,n;return{c(){e=f("p"),n=m(t[1]),g(e,"class","nombreUsuario svelte-1sqaama")},m(t,o){a(t,e,o),l(e,n)},p(t,e){2&e&&h(n,t[1])},d(t){t&&c(e)}}}function W(e){let n,o,r;return{c(){n=f("input"),o=d(),r=f("input"),g(n,"type","text"),g(n,"id","nombre"),g(n,"class","svelte-1sqaama"),g(r,"type","password"),g(r,"id","pass"),g(r,"class","svelte-1sqaama")},m(t,e){a(t,n,e),a(t,o,e),a(t,r,e)},p:t,d(t){t&&c(n),t&&c(o),t&&c(r)}}}function Y(t){let e;return{c(){e=f("input"),g(e,"type","submit"),e.value="Logout",g(e,"name","logout"),g(e,"class","logout svelte-1sqaama")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Z(t){let e,n,o;return{c(){e=f("input"),n=d(),o=f("input"),g(e,"type","submit"),e.value="Sign in",g(e,"name","signIn"),g(e,"class","signIn svelte-1sqaama"),g(o,"type","submit"),o.value="Sign up",g(o,"name","signUp"),g(o,"class","signUp svelte-1sqaama")},m(t,r){a(t,e,r),a(t,n,r),a(t,o,r)},d(t){t&&c(e),t&&c(n),t&&c(o)}}}function tt(e){let n,o,r,s,i;function u(t,e){return t[0]?R:W}let m=u(e),h=m(e);function v(t,e){return t[0]?Y:Z}let $=v(e),b=$(e);return{c(){n=f("form"),o=f("fieldset"),h.c(),r=d(),s=f("fieldset"),b.c(),g(o,"class","fieldSetInputs svelte-1sqaama"),g(s,"class","fieldSetSubmits svelte-1sqaama"),g(n,"class","formulario svelte-1sqaama")},m(t,c,u){a(t,n,c),l(n,o),h.m(o,null),l(n,r),l(n,s),b.m(s,null),u&&i(),i=p(n,"submit",e[2])},p(t,[e]){m===(m=u(t))&&h?h.p(t,e):(h.d(1),h=m(t),h&&(h.c(),h.m(o,null))),$!==($=v(t))&&(b.d(1),b=$(t),b&&(b.c(),b.m(s,null)))},i:t,o:t,d(t){t&&c(n),h.d(),b.d(),i()}}}function et(t,e,n){return fetch("https://criterio-back.herokuapp.com"+t,n).then(t=>{if(!t.ok)throw Error(t.status);return t})}function nt(t,e,n){let o=!!localStorage.getItem("user"),r=[];U.subscribe(t=>{o&&et("user",0,{method:"PUT",body:localStorage.getItem("user"),headers:{"Content-Type":"application/json"}}),r=t});function s(){localStorage.removeItem("user"),n(0,o=""),U.update(()=>[])}function i(t){et("register",0,{method:"POST",body:JSON.stringify({user:t.target.nombre.value,pass:t.target.pass.value,listaCriterios:r}),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{localStorage.setItem("user",JSON.stringify(t)),r=[],n(1,a=t.user),n(0,o=!0)}).catch(t=>console.log(t,"error"))}function l(t){console.log(t);et("login",0,{method:"POST",body:JSON.stringify({user:t.target.nombre.value,pass:t.target.pass.value}),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{localStorage.setItem("user",JSON.stringify(t)),n(0,o=!!t.user),n(1,a=t.user),U.update(()=>[...t.listaCriterios])}).catch(t=>console.log(t,"error"))}let a;return t.$$.update=()=>{t.$$.dirty},n(1,a=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).user:""),[o,a,function(t){if(t.preventDefault(),t.target.nombre&&!t.target.nombre.value||t.target.pass&&!t.target.pass.value)return void alert("Ten√©s que completar todos los campos, no te hagas el QC");({signIn:l,signUp:i,logout:s})[t.submitter.name](t)}]}class ot extends V{constructor(t){super(),B(this,t,nt,tt,s,{})}}function rt(t,e,n){const o=t.slice();return o[9]=e[n],o}function st(t){let e;const n=new K({props:{inputValue:t[9].value,id:t[9].criterioIndex,claseDeLosCriterios:t[9].estado,comments:t[9].comments}});return n.$on("eliminar",t[2]),n.$on("marcar",t[3]),n.$on("hecho",t[4]),n.$on("comentar",t[5]),{c(){T(n.$$.fragment)},m(t,o){J(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.inputValue=t[9].value),1&e&&(o.id=t[9].criterioIndex),1&e&&(o.claseDeLosCriterios=t[9].estado),1&e&&(o.comments=t[9].comments),n.$set(o)},i(t){e||(q(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){j(n,t)}}}function it(t){let e,n,r,s,i,m,h,v,$,b,C,x,S,E,_;function D(e){t[8].call(null,e)}let k={};void 0!==t[0]&&(k.listaCriterios=t[0]);const L=new ot({props:k});y.push(()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(L,"listaCriterios",D));let O=t[0],w=[];for(let e=0;e<O.length;e+=1)w[e]=st(rt(t,O,e));const A=t=>N(w[t],1,1,()=>{w[t]=null});return{c(){e=f("header"),n=f("nav"),r=f("div"),r.innerHTML='<img src="assetsCriterioso.png" alt="CriteriOso" class="imgLogo svelte-1m7u0h8">',s=d(),T(L.$$.fragment),m=d(),h=f("div");for(let t=0;t<w.length;t+=1)w[t].c();v=d(),$=f("textarea"),b=d(),C=f("button"),C.textContent="Agregar",x=d(),S=f("button"),S.textContent="Limpiar",g(r,"class","containerLogo svelte-1m7u0h8"),g(n,"class","navMenu svelte-1m7u0h8"),g(e,"class","svelte-1m7u0h8"),g(h,"class","lista svelte-1m7u0h8"),g(h,"id","lista"),g($,"id","listaDeCriteriosPorAgregar"),g($,"class","listaDeCriteriosPorAgregar svelte-1m7u0h8"),g(C,"class","agregarCriterios svelte-1m7u0h8"),g(C,"id","agregarCriterios"),g(S,"class","limpiarCriterios svelte-1m7u0h8"),g(S,"id","limpiarCriterios")},m(i,c,u){a(i,e,c),l(e,n),l(n,r),l(n,s),J(L,n,null),a(i,m,c),a(i,h,c);for(let t=0;t<w.length;t+=1)w[t].m(h,null);a(i,v,c),a(i,$,c),a(i,b,c),a(i,C,c),a(i,x,c),a(i,S,c),E=!0,u&&o(_),_=[p(C,"click",t[1]),p(S,"click",lt)]},p(t,[e]){const n={};var r;if(!i&&1&e&&(i=!0,n.listaCriterios=t[0],r=()=>i=!1,I.push(r)),L.$set(n),61&e){let n;for(O=t[0],n=0;n<O.length;n+=1){const o=rt(t,O,n);w[n]?(w[n].p(o,e),q(w[n],1)):(w[n]=st(o),w[n].c(),q(w[n],1),w[n].m(h,null))}for(P={r:0,c:[],p:P},n=O.length;n<w.length;n+=1)A(n);P.r||o(P.c),P=P.p}},i(t){if(!E){q(L.$$.fragment,t);for(let t=0;t<O.length;t+=1)q(w[t]);E=!0}},o(t){N(L.$$.fragment,t),w=w.filter(Boolean);for(let t=0;t<w.length;t+=1)N(w[t]);E=!1},d(t){t&&c(e),j(L),t&&c(m),t&&c(h),u(w,t),t&&c(v),t&&c($),t&&c(b),t&&c(C),t&&c(x),t&&c(S),o(_)}}}function lt(){U.update(()=>[])}function at(t,e,n){var o;o=()=>{listaDeCriteriosPorAgregar.focus()},b().$$.on_mount.push(o);let r=[];const s=U.subscribe(t=>{const e=JSON.parse(localStorage.getItem("user"));console.log(e),e&&(e.listaCriterios=t,localStorage.setItem("user",JSON.stringify(e))),n(0,r=t)});function i(t){const e=t.detail-1;return r[e].estado}return[r,function(){if(!listaDeCriteriosPorAgregar.value)return;let t=listaDeCriteriosPorAgregar.value.replace(/\n/g,"<br />").split("|||||").filter(t=>!!t);t=t.map((t,e)=>({value:t,criterioIndex:e+r.length+1,comments:[],estado:"default"})),U.update(()=>[...r,...t]),listaDeCriteriosPorAgregar.value="",listaDeCriteriosPorAgregar.focus()},t=>{let e=r.filter(e=>!(e.criterioIndex===t.detail));e=e.map(e=>(e.criterioIndex>t.detail&&(e.criterioIndex-=1),e)),U.update(()=>[...e])},function(t){const e=t.detail-1,o=i(t);n(0,r[e].estado="default marcado"!==o?"default marcado":"default",r),U.update(()=>[...r])},function(t){const e=t.detail-1,o=i(t);n(0,r[e].estado="default hecho"!==o?"default hecho":"default",r),U.update(()=>[...r])},function(t){const e=t.detail.id-1;n(0,r[e].comments=t.detail.comments,r),U.update(()=>[...r])},s,i,function(t){r=t,n(0,r)}]}class ct extends V{constructor(t){super(),B(this,t,at,it,s,{})}}function ut(e){let n;const o=new ct({});return{c(){T(o.$$.fragment)},m(t,e){J(o,t,e),n=!0},p:t,i(t){n||(q(o.$$.fragment,t),n=!0)},o(t){N(o.$$.fragment,t),n=!1},d(t){j(o,t)}}}return new class extends V{constructor(t){super(),B(this,t,null,ut,s,{})}}({target:document.body,props:{name:"Proyecto criteria"}})}();
//# sourceMappingURL=bundle.js.map
